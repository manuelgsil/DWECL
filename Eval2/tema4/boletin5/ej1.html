<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 1</title>
    <link rel="stylesheet"
          href="style.css">
</head>

<body>
    <header>
        <h1>Ejercicios JS</h1>
    </header>
    <div class="flex-container">
        <form action="#">
            <label for="">Introduce un numero</label>
            <input type="text">
            <button type="button"
                    id="calcular">calcular</button>
        </form>
        <output>

        </output>

        <div class="enunciado">
            Factorial de un número. En el evento input (oninput) de un input type
            text habrá que comprobar que hay algo, que se trata de un número
            positivo y entero, y solo entonces, se añadirá el manejador de evento
            click al botón calcular. El cálculo será el factorial del número que se le ha
            introducido. Cuando no es así, se le quita.
        </div>
    </div>
</body>

<script>
    input = document.querySelector("input");
    btnCalcular = document.querySelector("button");
    output = document.querySelector("output");

    input.addEventListener("input", () => {
        let inputValue = input.value;
        let esValido = !isNaN(inputValue) && !inputValue <= 0;
        if (esValido)// si no es un numero o no entero
        {
            document.getElementById("calcular").style.opacity = 1;
            btnCalcular.addEventListener("click", () => {
                output.innerHTML = calcularFactorial(inputValue);
            });
        } else {
            alert("Introduce un numero valido")
            document.getElementById("calcular").style.opacity = 0;
        }
    })

    function calcularFactorial(inputValue) {

        let factorial = 1;
        for (let i = 1; i <= inputValue; i++) {
            factorial *= i;
        }
        return factorial;

    }
</script>

</html>